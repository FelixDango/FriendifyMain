<div class="card mb-5 shadow-3">
  <div class="card-body">
    <form>
      <div class="p-fluid">
        <div class="p-field">
          <label for="postContent">Post Content</label>
          <textarea pInputTextarea [(ngModel)]="postContent" name="postContent" id="postContent" rows="3" (input)="handleTextInput($event)"></textarea>
          <small class="p-character-count" [ngClass]="{'exceeded-limit': postContent.length > 281}">
            {{ postContent.length }}/281 characters
          </small>
        </div>
      </div>


      <div class="p-fluid">
        <div class="p-field">
        <p-fileUpload id="fileUpload" accept="image/*,video/*" (uploadHandler)="handleFileInput($event)" chooseLabel="Upload Image or Video" [auto]="true">
          <ng-template pTemplate="content">
            <div class="p-fileupload-filename" *ngIf="selectedFile">{{ selectedFile.name }}</div>
          </ng-template>
        </p-fileUpload>
        <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
        </div>
      </div>

      <div class="d-flex justify-content-end">
        <button pButton type="button" label="Post" class="p-button-primary" [disabled]="postContent.length === 0 || postContent.length > 281 || errorMessage" (click)="submitPost()"></button>
      </div>
    </form>
  </div>
</div>
